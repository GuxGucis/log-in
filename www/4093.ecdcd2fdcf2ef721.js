"use strict";(self.webpackChunkLogIn=self.webpackChunkLogIn||[]).push([[4093],{4093:(sn,h,s)=>{s.r(h),s.d(h,{SigninPageModule:()=>tn});var p=s(6814),a=s(95),g=s(451),y=s(4573),x=s(5861);const F=JSON.parse('{"Gender":["Mujer","Hombre","Otro"],"Country":["Espa\xf1a","Portugal","Francia","China","Estados Unidos","Italia","Alemania","Reino Unido","Noruega"],"Region":["Andaluc\xeda","Arag\xf3n","Islas Baleares","Canarias","Cantabria","Castilla-La Mancha","Castilla y Le\xf3n","Catalu\xf1a","Comunidad de Madrid","Comunidad Foral de Navarra","Comunidad Valenciana","Extremadura","Galicia","Pa\xeds Vasco","Principado de Asturias","Regi\xf3n de Murcia","La Rioja"],"Province":{"Andaluc\xeda":["Ja\xe9n","C\xf3rdoba","Huelva","M\xe1laga","Sevilla","Granada","Almer\xeda","C\xe1diz"],"Arag\xf3n":["Huesca","Teruel","Zaragoza"],"Cantabria":["Cantabria"],"Principado de Asturias":["Asturias"],"Canarias":["Las Palmas","Santa Cruz de Tenerife"],"Castilla-La Mancha":["Toledo","Ciudad Real","Cuenca","Guadalajara","Albacete","Badajoz"],"Castilla y Le\xf3n":["Le\xf3n","Salamanca","Valladolid","Soria","Segovia","Zamora","Burgos","Palencia","\xc1vila"],"Catalu\xf1a":["Girona","Lleida","Barcelona","Tarragona"],"Ceuta":["Ceuta"],"Comunidad de Madrid":["Madrid"],"Comunidad Foral de Navarra":["Navarra"],"Comunidad Valenciana":["Castell\xf3n","Valencia","Alicante"],"Extremadura":["Badajoz","C\xe1ceres"],"Galicia":["Orense","Lugo","Pontevedra","A Coru\xf1a"],"Islas Baleares":["Baleares"],"Melilla":["Melilla"],"Pa\xeds Vasco":["Vizcaya","\xc1lava","Gipuzcoa"],"La Rioja":["Logro\xf1o"],"Regi\xf3n de Murcia":["Murcia"]}}');var n=s(6689),S=s(2640),L=s(9193),C=s(2014);let N=(()=>{class e{constructor(){}uppercaseValidator(){return r=>/[A-Z]/.test(r.value)?null:{uppercaseRequired:!0}}lowercaseValidator(){return r=>/[a-z]/.test(r.value)?null:{lowercaseRequired:!0}}numericValidator(){return r=>/\d/.test(r.value)?null:{numericRequired:!0}}AllNumericValidator(){return r=>null==r.value||""===r.value||/^\d+$/.test(r.value)?null:{numeric:{value:r.value}}}specialCharValidator(){return r=>/[!@#$%^&*(),.?":{}|<>]/.test(r.value)?null:{specialCharRequired:!0}}static#n=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var T=s(6471),q=s(4904),P=s(7947);function b(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"UserNameError1"))))}function I(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,b,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.userName.errors?null:r.singForm.controls.userName.errors.required)}}function w(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"EmailError1"))))}function J(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"EmailError2"))))}function U(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,w,4,5,"div",13),n.YNc(2,J,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.email.errors?null:r.singForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.email.errors?null:r.singForm.controls.email.errors.email)}}function Q(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PhoneError1"))))}function Y(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,Q,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.phone.errors?null:r.singForm.controls.phone.errors.numeric)}}function O(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"NameError1"))))}function E(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,O,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.name.errors?null:r.singForm.controls.name.errors.required)}}function z(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"SurnameError1"))))}function M(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,z,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.surname.errors?null:r.singForm.controls.surname.errors.required)}}function R(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"UserNameError1"))))}function V(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,R,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.gender.errors?null:r.singForm.controls.gender.errors.required)}}function G(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError1"))))}function B(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError2"))))}function k(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError3"))))}function j(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError4"))))}function H(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError5"))))}function X(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError6"))))}function D(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,G,4,5,"div",13),n.YNc(2,B,4,5,"div",13),n.YNc(3,k,4,5,"div",13),n.YNc(4,j,4,5,"div",13),n.YNc(5,H,4,5,"div",13),n.YNc(6,X,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();let i,o,l,c;n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.password.errors?null:r.singForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.password.errors?null:r.singForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==(i=r.singForm.get("password"))||null==i.errors?null:i.errors.uppercaseRequired),n.xp6(1),n.Q6J("ngIf",null==(o=r.singForm.get("password"))||null==o.errors?null:o.errors.lowercaseRequired),n.xp6(1),n.Q6J("ngIf",null==(l=r.singForm.get("password"))||null==l.errors?null:l.errors.numericRequired),n.xp6(1),n.Q6J("ngIf",null==(c=r.singForm.get("password"))||null==c.errors?null:c.errors.specialCharRequired)}}function K(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"CountryError1"))))}function $(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,K,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.country.errors?null:r.singForm.controls.country.errors.required)}}function W(e,t){if(1&e&&(n.ynx(0),n._UZ(1,"app-input",16),n.ALo(2,"async"),n.ALo(3,"translate"),n.BQk()),2&e){const r=n.oxw();n.xp6(1),n.s9C("label",n.lcZ(2,3,n.lcZ(3,5,"Region"))),n.Q6J("control",r.singForm.controls.comunidadAutonoma)("SelectList",r.comunidadAutonoma)}}function nn(e,t){if(1&e&&(n.ynx(0),n._UZ(1,"app-input",17),n.ALo(2,"async"),n.ALo(3,"translate"),n.BQk()),2&e){const r=n.oxw();n.xp6(1),n.s9C("label",n.lcZ(2,3,n.lcZ(3,5,"Province"))),n.Q6J("control",r.singForm.controls.provincia)("SelectList",r.provincia)}}const m=F,en=[{path:"",component:(()=>{class e{constructor(r,i,o,l){this.userSvc=r,this.utilsSvc=i,this.hashSvc=o,this.validatorSvc=l,this.Countries=m.Country,this.comunidadAutonoma=m.Region,this.genders=m.Gender,this.singForm=new a.cw({userName:new a.NI("",[a.kI.required]),email:new a.NI("",[a.kI.required,a.kI.email]),phone:new a.NI(null,[this.validatorSvc.AllNumericValidator()]),name:new a.NI("",[a.kI.required]),surname:new a.NI("",[a.kI.required]),gender:new a.NI("",[a.kI.required]),password:new a.NI("",[a.kI.required,a.kI.minLength(8),this.validatorSvc.uppercaseValidator(),this.validatorSvc.lowercaseValidator(),this.validatorSvc.numericValidator(),this.validatorSvc.specialCharValidator()]),country:new a.NI("",a.kI.required),comunidadAutonoma:new a.NI({value:"",disabled:!0}),provincia:new a.NI({value:"",disabled:!0})})}ngOnInit(){this.singForm.get("country")?.valueChanges.subscribe(r=>{"Espa\xf1a"===r?this.singForm.get("comunidadAutonoma")?.enable():this.singForm.get("comunidadAutonoma")?.disable()}),this.singForm.get("comunidadAutonoma")?.valueChanges.subscribe(r=>{r?(this.provincia=m.Province[r],this.singForm.get("provincia")?.enable()):this.singForm.get("provincia")?.disable()})}handleGenderSelection(r){this.singForm.get("gender")?.setValue(r)}Submit(r,i,o,l,c,v,f,Z,_,A){var d=this;return(0,x.Z)(function*(){d.HashPass=yield d.hashSvc.HashingPassword(f);let u={id:1,userName:r,email:i,phone:o,name:l,surname:c,gender:v,password:d.HashPass,country:Z,ccaa:_,provincia:A};return(yield d.userSvc.StorageUser(u.userName,u.email,u.phone,u.name,u.surname,u.gender,u.password,u.country,u.ccaa,u.provincia))?(console.log("Usuario logeado",d.userSvc.lastUser),d.utilsSvc.routerLink("/home"),d.singForm.reset(),!0):(d.utilsSvc.presentToast("Usuario ya registrado"),d.singForm.reset(),console.log("Se ha encontrado un usuario"),!1)})()}onSubmit(){var r=this;return(0,x.Z)(function*(){if(!r.singForm.valid)return r.utilsSvc.presentToast("Por favor, completa todos los campos requeridos correctamente."),console.log(r.singForm.value),!1;{const i=r.singForm.value.userName??"",o=r.singForm.value.email??"",l=r.singForm.value.phone?Number(r.singForm.value.phone):0,c=r.singForm.value.name??"",v=r.singForm.value.surname??"",f=r.singForm.value.gender??"",Z=r.singForm.value.password??"",_=r.singForm.value.country??"",A=r.singForm.value.comunidadAutonoma??"",d=r.singForm.value.provincia??"";try{return!!(yield r.Submit(i,o,l,c,v,f,Z,_,A,d))||(console.log("Error espec\xedfico al enviar los datos"),!1)}catch(u){return console.error("Submission error:",u),r.utilsSvc.presentToast("Error al enviar el formulario"),!1}}})()}static#n=this.\u0275fac=function(i){return new(i||e)(n.Y36(S.K),n.Y36(L.f),n.Y36(C.o),n.Y36(N))};static#e=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-signin"]],decls:49,vars:79,consts:[["title","Sing In","type","singin","backButton","/login",3,"label"],["sizeLg","4","sizeMd","3","sizeSm","2","size","12"],["sizeLg","4","sizeMd","6","sizeSm","8","size","12"],[3,"formGroup","ngSubmit"],["intype","text","type","userName",3,"control","label","required"],["class","validators",4,"ngIf"],["intype","text","type","email",3,"control","label","required"],["intype","text","type","phone",3,"control","label"],["intype","text","type","name",3,"control","label","required"],["intype","text","type","surname",3,"control","label","required"],["intype","checkbox","type","gender",3,"control","label","CheckboxOptions","required","selectedCheckbox"],["intype","text","type","password",3,"control","label","required"],["intype","select","type","Cuidad",3,"control","label","SelectList","required"],[4,"ngIf"],["type","submit",3,"disabled"],[1,"validators"],["intype","select","type","Comunidad aut\xf3noma",3,"control","label","SelectList"],["intype","select","type","Provincia",3,"control","label","SelectList"]],template:function(i,o){if(1&i&&(n.TgZ(0,"ion-content"),n._UZ(1,"app-header",0),n.ALo(2,"async"),n.ALo(3,"translate"),n.TgZ(4,"ion-row"),n._UZ(5,"ion-col",1),n.TgZ(6,"ion-col",2)(7,"ion-card")(8,"form",3),n.NdJ("ngSubmit",function(){return o.onSubmit()}),n.TgZ(9,"div"),n._UZ(10,"app-input",4),n.ALo(11,"async"),n.ALo(12,"translate"),n.YNc(13,I,2,1,"div",5),n._UZ(14,"app-input",6),n.ALo(15,"async"),n.ALo(16,"translate"),n.YNc(17,U,3,2,"div",5),n._UZ(18,"app-input",7),n.ALo(19,"async"),n.ALo(20,"translate"),n.YNc(21,Y,2,1,"div",5),n._UZ(22,"app-input",8),n.ALo(23,"async"),n.ALo(24,"translate"),n.YNc(25,E,2,1,"div",5),n._UZ(26,"app-input",9),n.ALo(27,"async"),n.ALo(28,"translate"),n.YNc(29,M,2,1,"div",5),n.TgZ(30,"app-input",10),n.NdJ("selectedCheckbox",function(c){return o.handleGenderSelection(c)}),n.ALo(31,"async"),n.ALo(32,"translate"),n.qZA(),n.YNc(33,V,2,1,"div",5),n._UZ(34,"app-input",11),n.ALo(35,"async"),n.ALo(36,"translate"),n.YNc(37,D,7,6,"div",5),n._UZ(38,"app-input",12),n.ALo(39,"async"),n.ALo(40,"translate"),n.YNc(41,$,2,1,"div",5),n.YNc(42,W,4,7,"ng-container",13),n.YNc(43,nn,4,7,"ng-container",13),n.TgZ(44,"ion-button",14),n._uU(45),n.ALo(46,"async"),n.ALo(47,"translate"),n.qZA()()()()(),n._UZ(48,"ion-col",1),n.qZA()()),2&i){let l,c;n.xp6(1),n.s9C("label",n.lcZ(2,39,n.lcZ(3,41,"Register"))),n.xp6(7),n.Q6J("formGroup",o.singForm),n.xp6(2),n.s9C("label",n.lcZ(11,43,n.lcZ(12,45,"UserName"))),n.Q6J("control",o.singForm.controls.userName)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.userName.errors&&o.singForm.controls.userName.dirty),n.xp6(1),n.s9C("label",n.lcZ(15,47,n.lcZ(16,49,"Email"))),n.Q6J("control",o.singForm.controls.email)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.email.errors&&o.singForm.controls.email.dirty),n.xp6(1),n.s9C("label",n.lcZ(19,51,n.lcZ(20,53,"Phone"))),n.Q6J("control",o.singForm.controls.phone),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.phone.errors&&o.singForm.controls.phone.dirty),n.xp6(1),n.s9C("label",n.lcZ(23,55,n.lcZ(24,57,"Name"))),n.Q6J("control",o.singForm.controls.name)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.name.errors&&o.singForm.controls.name.dirty),n.xp6(1),n.s9C("label",n.lcZ(27,59,n.lcZ(28,61,"Surname"))),n.Q6J("control",o.singForm.controls.surname)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.surname.errors&&o.singForm.controls.surname.dirty),n.xp6(1),n.s9C("label",n.lcZ(31,63,n.lcZ(32,65,"Gender"))),n.Q6J("control",o.singForm.controls.gender)("CheckboxOptions",o.genders)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.gender.errors&&o.singForm.controls.gender.dirty),n.xp6(1),n.s9C("label",n.lcZ(35,67,n.lcZ(36,69,"Password"))),n.Q6J("control",o.singForm.controls.password)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.password.errors&&o.singForm.controls.password.dirty),n.xp6(1),n.s9C("label",n.lcZ(39,71,n.lcZ(40,73,"Country"))),n.Q6J("control",o.singForm.controls.country)("SelectList",o.Countries)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.country.errors&&o.singForm.controls.country.dirty),n.xp6(1),n.Q6J("ngIf",null==(l=o.singForm.get("comunidadAutonoma"))?null:l.enabled),n.xp6(1),n.Q6J("ngIf",(null==(c=o.singForm.get("provincia"))?null:c.enabled)&&(null==(c=o.singForm.get("comunidadAutonoma"))?null:c.enabled)),n.xp6(1),n.Q6J("disabled",o.singForm.invalid),n.xp6(1),n.Oqu(n.lcZ(46,75,n.lcZ(47,77,"Enter")))}},dependencies:[p.O5,a._Y,a.JL,g.YG,g.PM,g.wI,g.W2,g.Nd,T.G,q.a,a.sg,p.Ov,P.X],styles:["ion-card[_ngcontent-%COMP%]{margin-top:20px;background-color:var(--ion-color-primary-contrast);border:solid;border-color:#1e1e1e;padding:10px}ion-button[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;text-transform:none}.validators[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-danger);padding-bottom:5px;text-align:left;padding-left:10px}"]})}return e})()}];let rn=(()=>{class e{static#n=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=n.oAB({type:e});static#r=this.\u0275inj=n.cJS({imports:[y.Bz.forChild(en),y.Bz]})}return e})();var on=s(2898),an=s(822);let tn=(()=>{class e{static#n=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=n.oAB({type:e});static#r=this.\u0275inj=n.cJS({imports:[p.ez,a.u5,g.Pc,rn,an.K,a.UX,on.D]})}return e})()}}]);