"use strict";(self.webpackChunkLogIn=self.webpackChunkLogIn||[]).push([[4093],{4093:(cn,x,s)=>{s.r(x),s.d(x,{SigninPageModule:()=>ln});var p=s(6814),a=s(95),g=s(1537),y=s(4573),F=s(5861);const S=JSON.parse('{"Gender":["Mujer","Hombre","Otro"],"Country":["Espa\xf1a","Portugal","Francia","China","Estados Unidos","Italia","Alemania","Reino Unido","Noruega"],"Region":["Andaluc\xeda","Arag\xf3n","Islas Baleares","Canarias","Cantabria","Castilla-La Mancha","Castilla y Le\xf3n","Catalu\xf1a","Comunidad de Madrid","Comunidad Foral de Navarra","Comunidad Valenciana","Extremadura","Galicia","Pa\xeds Vasco","Principado de Asturias","Regi\xf3n de Murcia","La Rioja"],"Province":{"Andaluc\xeda":["Ja\xe9n","C\xf3rdoba","Huelva","M\xe1laga","Sevilla","Granada","Almer\xeda","C\xe1diz"],"Arag\xf3n":["Huesca","Teruel","Zaragoza"],"Cantabria":["Cantabria"],"Principado de Asturias":["Asturias"],"Canarias":["Las Palmas","Santa Cruz de Tenerife"],"Castilla-La Mancha":["Toledo","Ciudad Real","Cuenca","Guadalajara","Albacete","Badajoz"],"Castilla y Le\xf3n":["Le\xf3n","Salamanca","Valladolid","Soria","Segovia","Zamora","Burgos","Palencia","\xc1vila"],"Catalu\xf1a":["Girona","Lleida","Barcelona","Tarragona"],"Ceuta":["Ceuta"],"Comunidad de Madrid":["Madrid"],"Comunidad Foral de Navarra":["Navarra"],"Comunidad Valenciana":["Castell\xf3n","Valencia","Alicante"],"Extremadura":["Badajoz","C\xe1ceres"],"Galicia":["Orense","Lugo","Pontevedra","A Coru\xf1a"],"Islas Baleares":["Baleares"],"Melilla":["Melilla"],"Pa\xeds Vasco":["Vizcaya","\xc1lava","Gipuzcoa"],"La Rioja":["Logro\xf1o"],"Regi\xf3n de Murcia":["Murcia"]}}');var n=s(6689),L=s(2640),T=s(9193),C=s(2014);let q=(()=>{class e{constructor(){}uppercaseValidator(){return r=>/[A-Z]/.test(r.value)?null:{uppercaseRequired:!0}}lowercaseValidator(){return r=>/[a-z]/.test(r.value)?null:{lowercaseRequired:!0}}numericValidator(){return r=>/\d/.test(r.value)?null:{numericRequired:!0}}AllNumericValidator(){return r=>null==r.value||""===r.value||/^\d+$/.test(r.value)?null:{numeric:{value:r.value}}}specialCharValidator(){return r=>/[!@#$%^&*(),.?":{}|<>]/.test(r.value)?null:{specialCharRequired:!0}}static#n=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var P=s(1269),N=s(6471),b=s(4904),I=s(7947);function w(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"UserNameError1"))))}function J(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,w,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.userName.errors?null:r.singForm.controls.userName.errors.required)}}function U(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"EmailError1"))))}function Q(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"EmailError2"))))}function Y(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,U,4,5,"div",13),n.YNc(2,Q,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.email.errors?null:r.singForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.email.errors?null:r.singForm.controls.email.errors.email)}}function O(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PhoneError1"))))}function E(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,O,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.phone.errors?null:r.singForm.controls.phone.errors.numeric)}}function R(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"NameError1"))))}function V(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,R,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.name.errors?null:r.singForm.controls.name.errors.required)}}function M(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"SurnameError1"))))}function G(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,M,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.surname.errors?null:r.singForm.controls.surname.errors.required)}}function z(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"UserNameError1"))))}function B(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,z,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.gender.errors?null:r.singForm.controls.gender.errors.required)}}function k(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError1"))))}function j(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError2"))))}function H(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError3"))))}function X(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError4"))))}function D(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError5"))))}function K(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"PasswordError6"))))}function $(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,k,4,5,"div",13),n.YNc(2,j,4,5,"div",13),n.YNc(3,H,4,5,"div",13),n.YNc(4,X,4,5,"div",13),n.YNc(5,D,4,5,"div",13),n.YNc(6,K,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();let i,o,c,l;n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.password.errors?null:r.singForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.password.errors?null:r.singForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==(i=r.singForm.get("password"))||null==i.errors?null:i.errors.uppercaseRequired),n.xp6(1),n.Q6J("ngIf",null==(o=r.singForm.get("password"))||null==o.errors?null:o.errors.lowercaseRequired),n.xp6(1),n.Q6J("ngIf",null==(c=r.singForm.get("password"))||null==c.errors?null:c.errors.numericRequired),n.xp6(1),n.Q6J("ngIf",null==(l=r.singForm.get("password"))||null==l.errors?null:l.errors.specialCharRequired)}}function W(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"async"),n.ALo(3,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,n.lcZ(3,3,"CountryError1"))))}function nn(e,t){if(1&e&&(n.TgZ(0,"div",15),n.YNc(1,W,4,5,"div",13),n.qZA()),2&e){const r=n.oxw();n.xp6(1),n.Q6J("ngIf",null==r.singForm.controls.country.errors?null:r.singForm.controls.country.errors.required)}}function en(e,t){if(1&e&&(n.ynx(0),n._UZ(1,"app-input",16),n.ALo(2,"async"),n.ALo(3,"translate"),n.BQk()),2&e){const r=n.oxw();n.xp6(1),n.s9C("label",n.lcZ(2,3,n.lcZ(3,5,"Region"))),n.Q6J("control",r.singForm.controls.comunidadAutonoma)("SelectList",r.comunidadAutonoma)}}function rn(e,t){if(1&e&&(n.ynx(0),n._UZ(1,"app-input",17),n.ALo(2,"async"),n.ALo(3,"translate"),n.BQk()),2&e){const r=n.oxw();n.xp6(1),n.s9C("label",n.lcZ(2,3,n.lcZ(3,5,"Province"))),n.Q6J("control",r.singForm.controls.provincia)("SelectList",r.provincia)}}const m=S,on=[{path:"",component:(()=>{class e{constructor(r,i,o,c,l){this.userSvc=r,this.utilsSvc=i,this.hashSvc=o,this.validatorSvc=c,this.authHTTP=l,this.Countries=m.Country,this.comunidadAutonoma=m.Region,this.genders=m.Gender,this.singForm=new a.cw({userName:new a.NI("",[a.kI.required]),email:new a.NI("",[a.kI.required,a.kI.email]),phone:new a.NI("",[this.validatorSvc.AllNumericValidator()]),name:new a.NI("",[a.kI.required]),surname:new a.NI("",[a.kI.required]),gender:new a.NI("",[a.kI.required]),password:new a.NI("",[a.kI.required,a.kI.minLength(8),this.validatorSvc.uppercaseValidator(),this.validatorSvc.lowercaseValidator(),this.validatorSvc.numericValidator(),this.validatorSvc.specialCharValidator()]),country:new a.NI("",a.kI.required),comunidadAutonoma:new a.NI({value:"",disabled:!0}),provincia:new a.NI({value:"",disabled:!0})})}ngOnInit(){this.singForm.get("country")?.valueChanges.subscribe(r=>{"Espa\xf1a"===r?this.singForm.get("comunidadAutonoma")?.enable():this.singForm.get("comunidadAutonoma")?.disable()}),this.singForm.get("comunidadAutonoma")?.valueChanges.subscribe(r=>{r?(this.provincia=m.Province[r],this.singForm.get("provincia")?.enable()):this.singForm.get("provincia")?.disable()})}handleGenderSelection(r){this.singForm.get("gender")?.setValue(r)}Submit(r,i,o,c,l,v,f,Z,_,h){var d=this;return(0,F.Z)(function*(){d.HashPass=yield d.hashSvc.HashingPassword(f);let u={id:1,userName:r,email:i,phone:o,name:c,surname:l,gender:v,password:d.HashPass,country:Z,ccaa:_,provincia:h};return(yield d.userSvc.StorageUser(u.userName,u.email,u.phone,u.name,u.surname,u.gender,u.password,u.country,u.ccaa,u.provincia))?(d.authHTTP.registerHTTP().subscribe({next:A=>{console.log("Registration successful",A)},error:A=>{console.error("Registration failed",A)}}),console.log("Usuario logeado",d.userSvc.lastUser),d.utilsSvc.routerLink("/home"),d.singForm.reset(),!0):(d.utilsSvc.presentToast("Usuario ya registrado"),d.singForm.reset(),console.log("Se ha encontrado un usuario"),!1)})()}onSubmit(){var r=this;return(0,F.Z)(function*(){if(!r.singForm.valid)return r.utilsSvc.presentToast("Por favor, completa todos los campos requeridos correctamente."),console.log(r.singForm.value),!1;{const i=r.singForm.value.userName??"",o=r.singForm.value.email??"",c=r.singForm.value.phone??"",l=r.singForm.value.name??"",v=r.singForm.value.surname??"",f=r.singForm.value.gender??"",Z=r.singForm.value.password??"",_=r.singForm.value.country??"",h=r.singForm.value.comunidadAutonoma??"",d=r.singForm.value.provincia??"";try{return!!(yield r.Submit(i,o,c,l,v,f,Z,_,h,d))||(console.log("Error espec\xedfico al enviar los datos"),!1)}catch(u){return console.error("Submission error:",u),r.utilsSvc.presentToast("Error al enviar el formulario"),!1}}})()}static#n=this.\u0275fac=function(i){return new(i||e)(n.Y36(L.K),n.Y36(T.f),n.Y36(C.o),n.Y36(q),n.Y36(P.O))};static#e=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-signin"]],decls:50,vars:79,consts:[[1,"ion-padding"],["title","Sing In","type","singin","backButton","/login",3,"label"],[1,"login-header"],[3,"formGroup","ngSubmit"],["intype","text","type","userName",3,"control","label","required"],["class","validators",4,"ngIf"],["aria-label","text","intype","text","type","email",3,"control","label","required"],["intype","text","type","phone",3,"control","label"],["intype","text","type","name",3,"control","label","required"],["intype","text","type","surname",3,"control","label","required"],["intype","checkbox","type","gender",3,"control","label","CheckboxOptions","required","selectedCheckbox"],["intype","text","type","password",3,"control","label","required"],["intype","select","type","Cuidad",3,"control","label","SelectList","required"],[4,"ngIf"],["type","submit","expand","block",3,"disabled"],[1,"validators"],["intype","select","type","Comunidad aut\xf3noma",3,"control","label","SelectList"],["intype","select","type","Provincia",3,"control","label","SelectList"]],template:function(i,o){if(1&i&&(n.TgZ(0,"ion-content",0),n._UZ(1,"app-header",1),n.ALo(2,"async"),n.ALo(3,"translate"),n.TgZ(4,"div",2)(5,"h1"),n._uU(6,"Sing Up"),n.qZA(),n.TgZ(7,"p"),n._uU(8,"select your email and enter password"),n.qZA()(),n.TgZ(9,"ion-list")(10,"form",3),n.NdJ("ngSubmit",function(){return o.onSubmit()}),n.TgZ(11,"div"),n._UZ(12,"app-input",4),n.ALo(13,"async"),n.ALo(14,"translate"),n.YNc(15,J,2,1,"div",5),n._UZ(16,"app-input",6),n.ALo(17,"async"),n.ALo(18,"translate"),n.YNc(19,Y,3,2,"div",5),n._UZ(20,"app-input",7),n.ALo(21,"async"),n.ALo(22,"translate"),n.YNc(23,E,2,1,"div",5),n._UZ(24,"app-input",8),n.ALo(25,"async"),n.ALo(26,"translate"),n.YNc(27,V,2,1,"div",5),n._UZ(28,"app-input",9),n.ALo(29,"async"),n.ALo(30,"translate"),n.YNc(31,G,2,1,"div",5),n.TgZ(32,"app-input",10),n.NdJ("selectedCheckbox",function(l){return o.handleGenderSelection(l)}),n.ALo(33,"async"),n.ALo(34,"translate"),n.qZA(),n.YNc(35,B,2,1,"div",5),n._UZ(36,"app-input",11),n.ALo(37,"async"),n.ALo(38,"translate"),n.YNc(39,$,7,6,"div",5),n._UZ(40,"app-input",12),n.ALo(41,"async"),n.ALo(42,"translate"),n.YNc(43,nn,2,1,"div",5),n.YNc(44,en,4,7,"ng-container",13),n.YNc(45,rn,4,7,"ng-container",13),n.TgZ(46,"ion-button",14),n._uU(47),n.ALo(48,"async"),n.ALo(49,"translate"),n.qZA()()()()()),2&i){let c,l;n.xp6(1),n.s9C("label",n.lcZ(2,39,n.lcZ(3,41,"Register"))),n.xp6(9),n.Q6J("formGroup",o.singForm),n.xp6(2),n.s9C("label",n.lcZ(13,43,n.lcZ(14,45,"UserName"))),n.Q6J("control",o.singForm.controls.userName)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.userName.errors&&o.singForm.controls.userName.dirty),n.xp6(1),n.s9C("label",n.lcZ(17,47,n.lcZ(18,49,"Email"))),n.Q6J("control",o.singForm.controls.email)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.email.errors&&o.singForm.controls.email.dirty),n.xp6(1),n.s9C("label",n.lcZ(21,51,n.lcZ(22,53,"Phone"))),n.Q6J("control",o.singForm.controls.phone),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.phone.errors&&o.singForm.controls.phone.dirty),n.xp6(1),n.s9C("label",n.lcZ(25,55,n.lcZ(26,57,"Name"))),n.Q6J("control",o.singForm.controls.name)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.name.errors&&o.singForm.controls.name.dirty),n.xp6(1),n.s9C("label",n.lcZ(29,59,n.lcZ(30,61,"Surname"))),n.Q6J("control",o.singForm.controls.surname)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.surname.errors&&o.singForm.controls.surname.dirty),n.xp6(1),n.s9C("label",n.lcZ(33,63,n.lcZ(34,65,"Gender"))),n.Q6J("control",o.singForm.controls.gender)("CheckboxOptions",o.genders)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.gender.errors&&o.singForm.controls.gender.dirty),n.xp6(1),n.s9C("label",n.lcZ(37,67,n.lcZ(38,69,"Password"))),n.Q6J("control",o.singForm.controls.password)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.password.errors&&o.singForm.controls.password.dirty),n.xp6(1),n.s9C("label",n.lcZ(41,71,n.lcZ(42,73,"Country"))),n.Q6J("control",o.singForm.controls.country)("SelectList",o.Countries)("required",!0),n.xp6(3),n.Q6J("ngIf",o.singForm.controls.country.errors&&o.singForm.controls.country.dirty),n.xp6(1),n.Q6J("ngIf",null==(c=o.singForm.get("comunidadAutonoma"))?null:c.enabled),n.xp6(1),n.Q6J("ngIf",(null==(l=o.singForm.get("provincia"))?null:l.enabled)&&(null==(l=o.singForm.get("comunidadAutonoma"))?null:l.enabled)),n.xp6(1),n.Q6J("disabled",o.singForm.invalid),n.xp6(1),n.Oqu(n.lcZ(48,75,n.lcZ(49,77,"Enter")))}},dependencies:[p.O5,a._Y,a.JL,g.YG,g.W2,g.q_,N.G,b.a,a.sg,p.Ov,I.X],styles:["ion-button[_ngcontent-%COMP%]{margin-top:2em;--background: #2dd36f;--border-radius: 20px;--padding-vertical: 15px;--padding-horizontal: 30px;--box-shadow: 0 4px 8px rgba(45, 211, 111, .2)}.validators[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-danger);padding-bottom:5px;text-align:left;padding-left:10px}"]})}return e})()}];let an=(()=>{class e{static#n=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=n.oAB({type:e});static#r=this.\u0275inj=n.cJS({imports:[y.Bz.forChild(on),y.Bz]})}return e})();var tn=s(2898),sn=s(822);let ln=(()=>{class e{static#n=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=n.oAB({type:e});static#r=this.\u0275inj=n.cJS({imports:[p.ez,a.u5,g.Pc,an,sn.K,a.UX,tn.D]})}return e})()}}]);