"use strict";(self.webpackChunkLogIn=self.webpackChunkLogIn||[]).push([[6488],{6488:(I,u,r)=>{r.r(u),r.d(u,{LoginPageModule:()=>F});var l=r(6814),s=r(95),i=r(451),c=r(4573),d=r(5861),o=r(6689),p=r(2640),m=r(3511),f=r(9193),v=r(6471),h=r(4904),L=r(7947);function Z(e,S){1&e&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"async"),o.ALo(3,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,o.lcZ(3,3,"PasswordError1"))))}function y(e,S){if(1&e&&(o.TgZ(0,"div",11),o.YNc(1,Z,4,5,"div",12),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.logForm.controls.password.errors?null:t.logForm.controls.password.errors.required)}}const U=[{path:"",component:(()=>{class e{constructor(t,n,a,g){this.userSvc=t,this.translationSvc=n,this.utilsSvc=a,this.changeDetectorRef=g,this.logForm=new s.cw({userName:new s.NI("",[s.kI.required]),password:new s.NI("",[s.kI.required])}),this.translationSvc.setLanguage("es").subscribe()}ngOnInit(){this.UsersList=this.userSvc.UsersList}onUserList(){var t=this;return(0,d.Z)(function*(){try{const n=yield t.userSvc.fetchUsernames();return t.UsersList=n,t.changeDetectorRef.detectChanges(),!0}catch(n){return console.error("Error fetching usernames:",n),t.UsersList=[],t.changeDetectorRef.detectChanges(),!1}})()}changeLanguage(t){this.translationSvc.setLanguage(t)}isUserLoggedIn(){var t=this;return(0,d.Z)(function*(){try{return null!=t.logForm.value.userName?null!=t.logForm.value.password?(yield t.userSvc.isUserLoggedIn(t.logForm.value.userName,t.logForm.value.password))?(t.utilsSvc.routerLink("/home"),t.logForm.reset(),console.log("Access granted"),!0):(t.logForm.reset(),console.log("NO se ha podido iniciar sesi\xf3n"),!1):(console.log("Error en el log de Usuario"),!1):(console.log("Error el formulario no es v\xe1lido",t.logForm.value.userName),!1)}catch(n){return console.error("Error checking login status:",n),!1}})()}static#o=this.\u0275fac=function(n){return new(n||e)(o.Y36(p.K),o.Y36(m.D),o.Y36(f.f),o.Y36(o.sBO))};static#t=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:29,vars:26,consts:[["title","Log In","type","login"],["sizeLg","4","sizeMd","3","sizeSm","2","size","12"],["sizeLg","4","sizeMd","6","sizeSm","8","size","12"],[3,"formGroup","ngSubmit"],["intype","select","type","User",3,"control","label","SelectList","required","click"],[1,"input"],["position","stacked",1,"prompt-text"],["type","password","formControlName","password",1,"input-field"],["class","validators",4,"ngIf"],["type","submit",3,"disabled"],["routerLink","/signin","type","button"],[1,"validators"],[4,"ngIf"]],template:function(n,a){1&n&&(o.TgZ(0,"ion-content"),o._UZ(1,"app-header",0),o.TgZ(2,"ion-row"),o._UZ(3,"ion-col",1),o.TgZ(4,"ion-col",2)(5,"ion-card")(6,"form",3),o.NdJ("ngSubmit",function(){return a.isUserLoggedIn()}),o.TgZ(7,"div")(8,"app-input",4),o.NdJ("click",function(){return a.onUserList()}),o.ALo(9,"async"),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"div",5)(12,"ion-label",6),o._uU(13),o.ALo(14,"async"),o.ALo(15,"translate"),o.qZA(),o._UZ(16,"br")(17,"br")(18,"ion-input",7),o.YNc(19,y,2,1,"div",8),o.qZA(),o.TgZ(20,"ion-button",9),o._uU(21),o.ALo(22,"async"),o.ALo(23,"translate"),o.qZA()()(),o.TgZ(24,"ion-button",10),o._uU(25),o.ALo(26,"async"),o.ALo(27,"translate"),o.qZA()()(),o._UZ(28,"ion-col",1),o.qZA()()),2&n&&(o.xp6(6),o.Q6J("formGroup",a.logForm),o.xp6(2),o.s9C("label",o.lcZ(9,10,o.lcZ(10,12,"UserName"))),o.Q6J("control",a.logForm.controls.userName)("SelectList",a.UsersList)("required",!0),o.xp6(5),o.Oqu(o.lcZ(14,14,o.lcZ(15,16,"Password"))),o.xp6(6),o.Q6J("ngIf",a.logForm.controls.password.errors&&a.logForm.controls.password.dirty),o.xp6(1),o.Q6J("disabled",a.logForm.invalid),o.xp6(1),o.Oqu(o.lcZ(22,18,o.lcZ(23,20,"Enter"))),o.xp6(4),o.Oqu(o.lcZ(26,22,o.lcZ(27,24,"Register"))))},dependencies:[l.O5,s._Y,s.JJ,s.JL,i.YG,i.PM,i.wI,i.W2,i.pK,i.Q$,i.Nd,i.j9,i.YI,c.rH,v.G,h.a,s.sg,s.u,l.Ov,L.X],styles:["ion-card[_ngcontent-%COMP%]{margin-top:150px;background-color:var(--ion-color-primary-contrast);border:solid;border-color:#1e1e1e;padding:10px}.input[_ngcontent-%COMP%]{margin-top:20px}.input-field[_ngcontent-%COMP%]{background:transparent;border:solid 1.5px rgba(122,122,122,.726);margin-bottom:20px;border-radius:4px;font:1.5em}.prompt-text[_ngcontent-%COMP%]{color:#1e1e1e}ion-button[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;text-transform:none}.validators[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-danger);padding-bottom:5px;text-align:left;padding-left:10px}"]})}return e})()}];let A=(()=>{class e{static#o=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=o.oAB({type:e});static#e=this.\u0275inj=o.cJS({imports:[c.Bz.forChild(U),c.Bz]})}return e})();var P=r(822),x=r(2898);let F=(()=>{class e{static#o=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=o.oAB({type:e});static#e=this.\u0275inj=o.cJS({imports:[l.ez,s.u5,i.Pc,A,P.K,s.UX,x.D]})}return e})()}}]);